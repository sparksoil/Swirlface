<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Todayâ€™s Ministry Day</title>

  <!-- Shared styles (keep if you use them) -->
  <link rel="stylesheet" href="palette.css"/>
  <link rel="stylesheet" href="base.css"/>

  <!-- Page-specific styles -->
  <link rel="stylesheet" href="rv-day.css"/>
</head>
<body class="day-bg">

  <!-- ðŸŒ¿ Floating Glass Card (original simple layout) -->
  <main class="day-card" role="main" aria-labelledby="pageTitle">
    <header class="day-header">
      <h1 id="pageTitle">ðŸŒ¿ Todayâ€™s Ministry Day</h1>
      <p id="todayDate"></p>
    </header>

    <section class="fields" aria-label="Ministry Day Inputs">
      <label for="locationInput">
        <span>Where are you beginning?</span>
        <input id="locationInput" type="text" placeholder="e.g., 2nd Street, Riverside"/>
      </label>

      <label for="gemInput">
        <span>This Weekâ€™s Spiritual Gem</span>
        <textarea id="gemInput" rows="2">1 + Jehovah is always the majority.</textarea>
      </label>

      <div id="sprinklePreview" class="sprinkle-box muted" aria-live="polite">
        âœ¨ Sprinkle Preview will show here
      </div>
    </section>

    <section class="actions" aria-label="Actions">
      <button id="readyBtn" class="primary" type="button">Iâ€™m Ready</button>
      <button id="mapBtn" type="button">Open Map</button>
      <button id="laterBtn" class="ghost" type="button">Just log later</button>
    </section>
  </main>

  <!-- Scripts (keep your original order so existing logic still works) -->
  <script src="store.js"></script>
  <script src="verses.js"></script>
  <script src="rv-day.js"></script>

  <!-- Tiny helpers: date + map fallback (safe if your JS already does this) -->
  <script>
    // 1) Human-friendly date (e.g., Tuesday, September 9, 2025)
    (function () {
      const el = document.getElementById('todayDate');
      if (!el) return;
      try {
        el.textContent = new Intl.DateTimeFormat(undefined, {
          weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
        }).format(new Date());
      } catch (_) {}
    })();

    // 2) Map open helper (only runs if your rv-day.js didnâ€™t intercept)
    (function () {
      const mapBtn = document.getElementById('mapBtn');
      const loc = document.getElementById('locationInput');
      if (!mapBtn) return;
      mapBtn.addEventListener('click', function (ev) {
        if (ev.defaultPrevented) return; // let your own handler cancel
        const q = (loc && loc.value.trim())
          ? encodeURIComponent(loc.value.trim())
          : 'Kingdom Hall near me';
        // iOS/Android friendly URL
        window.location.href = `https://maps.apple.com/?q=${q}`;
      });
    })();
  </script>
</body>
</html>
